
<ion-navbar *navbar><button menuToggle><ion-icon name="menu"></ion-icon></button><p item-right class="text_list grey2">{{ticket.class_name}}</p>
    <div class="width59">
    <ion-title>{{ticket.status}} | {{ticket.number}}</ion-title>
        <button danger class="right ticket-button"><ion-icon name="ios-redo"></ion-icon></button></div>
</ion-navbar>

<ion-content>
    <div class="subject">
   <ion-item class="itemTech blue3 padding subject-ticket text-left width59 left" no-lines>
       <span class="subject-padding ticket-details">{{ticket.subject}}</span>
           </ion-item>
        <ion-item class="left blue3 width35" no-lines>
        <p class="text-right">{{ticket.class_name}}</p>
        <p *ngIf="'true'" class="text-right">{{ticket.location_name}}</p>
        <p class="text-right">{{getFullName(ticket.technician_firstname || ticket.tech_firstname, ticket.technician_lastname || ticket.tech_lastname,  ticket.technician_email || ticket.tech_email)}}</p>
        <p class="text-right">{{ticket.days_old_in_minutes | Daysold}}</p>
        <p  *ngIf="ticket.misc_cost > 0" class="text-right">Expenses:  {{getCurrency(ticket.misc_cost)}}</p>
        <p *ngIf="ticket.total_hours > 0" class="text-right">{{ticket.total_hours}} Hours</p>
            <p *ngIf="ticket.sla_complete_date != null" class="text-right">SLA: {{setDate(ticket.sla_complete_date) | date: "MM/dd/yyyy HH:mm"}}</p></ion-item>
        
    </div>
    <div class="subject">
        <ion-segment class="tabsTicket"  [(ngModel)]="details_tab">
    <ion-segment-button value="Reply">
      Reply
    </ion-segment-button>
    <ion-segment-button value="Info">
      Info
    </ion-segment-button>
    <ion-segment-button value="Options">
        Options
    </ion-segment-button>
    </ion-segment>
</div>
    <div [ngSwitch]="details_tab">
     <div class="list img-top" *ngSwitchWhen="'Reply'">
         
         <posts-list [posts]="post1" [attachments]="attachments"></posts-list>
         <div class="response-ticket">
        <textarea class="width100 textLogin commentText" type="text" placeholder="Add Response"></textarea>
    <button secondary menuToggle
            class="button_reply">Reply</button></div>
         
         <posts-list [posts]="posts" [attachments]="attachments"></posts-list>
         
        </div>
               
  <ion-list *ngSwitchWhen="'Info'" class="list general-alignment" no-lines>
<ion-list>
    
    <select-list [list]="classes" (onChanged)='saveSelect($event)'></select-list>
    
    <select-list [list]="levels" (onChanged)='saveSelect($event)'></select-list>
    
    <div class="list blue4" no-lines >
    <button class="width100 button-icon-only">
        <p class="textLogin">Priority:</p>
        <ion-label class="righd">Priority</ion-label>
        <ion-icon name="arrow-down"></ion-icon>
        </button>
        </div> 
    
    <div class="list blue4" no-lines >
    <button class="width100 button-icon-only">
        <p class="textLogin">Tech:</p>
        <ion-label class="righd">Tech</ion-label>
        <ion-icon name="arrow-down"></ion-icon>
        </button>
        </div>    
    
    <div class="list blue4" no-lines >
    <button class="width100 button-icon-only">
        <p class="textLogin">Choose location:</p>
    <ion-label class="righd">Choose location</ion-label>
        <ion-icon name="arrow-down"></ion-icon>
        </button>
        </div> 
    
    <div class="list blue4" no-lines >
    <button class="width100 button-icon-only">
        <p class="textLogin">Choose project:</p>
    <ion-label class="righd">Choose project</ion-label>
        <ion-icon name="arrow-down"></ion-icon>
        </button>
        </div>   
    
</ion-list>    
        <div class="list">
      <button secondary block="" type="submit" class="disable-hover button button-default button-block">Add Ticket</button>
    </div>
    </ion-list>
    <ion-list *ngSwitchWhen="'Options'" class="list general-alignment" no-lines>
      <button secondary block="" type="submit" class="disable-hover button button-default button-block">Add Time</button>
      <button secondary block="" type="submit" class="disable-hover button button-default button-block img-top">Add Expense</button>
  <button favorite block class="img-top">Transfer Ticket</button>
   <button favorite block class="img-top">Close Ticket</button>
                <br>
                <ion-item class="blue4 padding">
    <ion-label>Resolved</ion-label>
  <ion-select [(ngModel)]="toppings7" multiple="true" cancelText="Nah" okText="Okay!">
<ion-option value="Class1" checked="true"></ion-option>
    </ion-select>
</ion-item>
             <ion-item class="blue4 padding">
    <ion-label>UnResolved</ion-label>
  <ion-select [(ngModel)]="toppings8" multiple="true" cancelText="Nah" okText="Okay!">
<ion-option value="Class1" checked="true"></ion-option>
    </ion-select>
</ion-item>   
                <ion-label no-lines>
          <i class="billable">
 <ion-icon class="ion-ios-radio-button-on"></ion-icon>
          </i>
        <p>Confirm Now?</p>
            <br>
          <textarea class="width100 textLogin commentText" type="text" placeholder="Add closing comments"></textarea>
            <button secondary menuToggle
            class="button_reply width35 img-top">Close Ticket</button>
    </ion-label>
                </ion-list>
    </div>
</ion-content>
