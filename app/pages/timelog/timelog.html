
<ion-navbar *navbar><button menuToggle><ion-icon name="menu"></ion-icon></button>
  <ion-title [hidden]="time.time_id">Add Time</ion-title>
  <ion-title [hidden]="!time.time_id">Timelog #{{time.time_id}} by {{time.user_name}} @ {{setDate(time.date) | date: "MM/dd/yyyy HH:mm"}}</ion-title>
</ion-navbar>
<ion-content class="timelog">
    <div class="list max-width700">
    <div class="img-top">
    <div  (click)="decrement()" class="left width30 button-timelog">
  <button class="width100 blue4"><ion-icon name="remove-outline"></ion-icon></button>
        </div>
    <div class="blue3 left width30 button-timelog">
    <button class="width100" type="button">
 <ion-input class="timelog-input width100 right margin" [value]="count | async | number:'1.2-2'" type="number"></ion-input></button>
        </div>
    <div (click)="increment()" class="right width30 button-timelog dashboardRight">
<button class="width100 blue4"><ion-icon name="ios-add"></ion-icon></button>
        </div>
  </div>
    <div class="blue3">
    <button block>Start Time {{setDate(time.start_time) | date: "MM/dd/yyyy HH:mm"}}</button>
    <button block>End Time {{setDate(time.stop_time) | date: "MM/dd/yyyy HH:mm"}}</button>
        </div>   
 <div class="img-top">     
    
     <select-list [list]="selects.account" [preload]="true" (onChanged)='saveSelect($event)'></select-list> 

     <select-list [list]="selects.project" [preload]="true" (onChanged)='saveSelect($event)'></select-list> 

     <select-list [list]="selects.ticket" [preload]="true" (onChanged)='saveSelect($event)'></select-list>

     <select-list [list]="selects.tasktype" [preload]="true" (onChanged)='saveSelect($event)'></select-list>

        </div>    
                <br>
                <form #addForm="ngForm">
                <div class="tooltips">
                       <textarea class="width100 textLogin commentText" type="text" placeholder="I completed..."
                       [(ngModel)]="timenote"
                       ngControl="note" #note="ngForm" required maxlength="4000">{{time.note}}</textarea>
                       <span [hidden]="note.valid || note.untouched">Note is required and less 5000 chars</span></div>
                

          <ion-item no-lines class="left toggle-width">
      <ion-toggle class="toggle" [(ngModel)]="isbillable"></ion-toggle>
    </ion-item>
        <p class="left width30 text-toggle">Billable</p>
        <div class="img-top">
            <button secondary block type="submit" class="disable-hover button button-default button-block"
            [disabled]="!addForm.valid" (click)="onSubmit(addForm)">{{time.time_id ? 'Update' : 'Add'}} Time</button>
    </div>
    </form>
    </div>
</ion-content>