
<ion-navbar *navbar><button menuToggle><ion-icon name="menu"></ion-icon></button>
    <ion-title>TicketCreate</ion-title>
</ion-navbar>
<ion-content padding class="ticket-create">
    <div class="list max-width700">
        <ion-buttons>
            <select-list class="left width90" url="users" [list]="users" (onChanged)='saveSelect($event)'></select-list>
            <div class="width10"><button (click)="addUser('user')" item-right secondary fab class="buttonTicket"><ion-icon class="button_circle2" name="md-add"></ion-icon></button>    </div>
        </ion-buttons>
        <ion-buttons>
            <select-list url="accounts?is_with_statistics=false" [list]="accounts" (onChanged)='saveSelect($event)'></select-list>
            
            <select-list  url="locations"  [list]="locations" (onChanged)='saveSelect($event)'></select-list></ion-buttons>
        <ion-buttons>
            <select-list class="width90 left"  url="technicians"  [list]="technicians" (onChanged)='saveSelect($event)'></select-list><div width-10><button (click)="addUser('tech')" item-right secondary fab class="buttonTicket"><ion-icon class="button_circle2" name="md-add"></ion-icon></button></div>
        </ion-buttons>
        <ion-buttons>
            <select-list url="projects"  [list]="projects" (onChanged)='saveSelect($event)'></select-list>
            <class-list [list]="classes" (onChanged)='saveSelect($event)'></class-list>
        </ion-buttons>
    </div>
    <br>
    <form #addForm="ngForm">
                <div class="list max-width700">
                    <div class="tooltips"><input class="width100 blue3 subject-create commentText" [(ngModel)]="ticket.subject" placeholder="Subject"  ngControl="subject" #subject="ngForm" required maxlength="100"/>
                        <span *ngIf="subject.dirty && !subject.valid">Subject is required and less 100 chars</span></div>
                    <br>
                    <textarea class="width100 textLogin commentText" type="text" [(ngModel)]="ticket.initial_post" ngControl="text" #note="ngForm"  placeholder="Details..."></textarea>

                <br>
                    <button [disabled]="!addForm.valid" secondary block (click)="onSubmit(addForm)"  type="submit" class="disable-hover button button-default button-block">Add Ticket</button>
                </div>
    </form>
</ion-content>
